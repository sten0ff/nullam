<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Nullam</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
</head>
<body>
<h1>Nullam</h1>
<h2>
    <ul>
        <a th:href="@{/}">Avaleht</a>
    </ul>
</h2>
<h2>
    <ul>
        <a th:href="@{/event/create}">Ürituse lisamine</a>
    </ul>
</h2>
<h4>Osavõtjad</h4>
<b> Ürituse nimi: </b><span th:text="${event.name}"></span><br>
<b> Toimumisaeg: </b><span th:text="${event.time}"></span><br>
<b> Koht: </b><span th:text="${event.place}"></span><br>
<b> Osalejad: </b>
<ol>
    <li th:each="member : ${event.members}">
        <span th:text="${member.name + ' ' + member.secondname + ' ' + member.regcode}"></span>
        <a th:href="@{/member/{id}/{event_id}(id=${member.id},event_id=${event.id})}">Vaata</a>
        <a th:href="@{/member/remove/{id}/{event_id}(id=${member.id},event_id=${event.id})}">Remove</a>
    </li>
    <li th:each="company : ${event.companies}">
        <span th:text="${company.name + ' ' + company.regnumber}"></span>
        <a th:href="@{/company/{id}/{event_id}(id=${company.id},event_id=${event.id})}">Vaata</a>
        <a th:href="@{/company/remove/{id}/{event_id}(id=${company.id},event_id=${event.id})}">Remove</a>
    </li>
</ol>
<h3>Osavõtjate lisamine - Eraisik</h3>
<form th:action="@{/member/create/{event_id}(event_id=${event.id})}" method="post">
    Eesnimi: <label><input type="text" name="name"/></label><br><br>
    Perenimi: <label><input type="text" name="secondname"/></label><br><br>
    Isikukood: <label><input type="text" name="regcode"/></label><br><br>
    Makseviis: <label><input type="text" name="payment"/></label><br><br>
    Lisainfo: <label><input type="text" name="info"/></label><br><br>
    <input type="button" onclick="window.location.href='/'" value="Tagasi">
    <input type="submit" value="Salvesta"/>
</form>
<hr>
<h3>Osavõtjate lisamine - Ettevõtte</h3>
<form th:action="@{/company/create/{event_id}(event_id=${event.id})}" method="post">
    Nimi: <label><input type="text" name="name"/></label><br><br>
    Registrikood: <label><input type="text" name="regnumber"/></label><br><br>
    Osavõtjate arv: <label><input type="text" name="ammount"/></label><br><br>
    Makseviis: <label><input type="text" name="payment"/></label><br><br>
    Lisainfo: <label><input type="text" name="info"/></label><br><br>
    <input type="button" onclick="window.location.href='/'" value="Tagasi">
    <input type="submit" value="Salvesta"/>
</form>
</body>
</html>
